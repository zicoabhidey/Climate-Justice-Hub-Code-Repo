<style>
    #wp-custom-grid-456 {
        font-family: "Martina Plantijn", serif;
        background-color: #f0f2f5;
        /* No padding here as requested */
        color: #1c1e21;
        transition: padding 0.3s ease; /* Transition might not be needed anymore, but harmless */
        box-sizing: border-box; /* Ensures padding doesn't break layout */
    }


    html.modal-open,
    body.modal-open {
        overflow: hidden !important;
    }

    /* --- Keyframes for Floating Effect (Global is OK) --- */
    @keyframes float {
        0% {
            transform: translateY(0px);
            box-shadow: 0 5px 15px 0px rgba(0,0,0,0.1);
        }
        50% {
            transform: translateY(-8px);
            box-shadow: 0 25px 15px 0px rgba(0,0,0,0.05);
        }
        100% {
            transform: translateY(0px);
            box-shadow: 0 5px 15px 0px rgba(0,0,0,0.1);
        }
    }

    /* --- Photo Grid Styles (Prefixed) --- */
    #wp-custom-grid-456 .photo-grid-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px; /* Adjust the space between photos */
        max-width: 1600px;
        margin: 0 auto; /* Center the grid */
    }
    
    #wp-custom-grid-456 .grid-item {
        position: relative; /* Anchor for the absolute caption */
        /*animation: float 4s ease-in-out infinite;*/
        border-radius: 12px; /* Match the image radius */
        overflow: hidden; /* Keep the scaling image contained */
        cursor: pointer;
    }

    #wp-custom-grid-456 .grid-item img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Ensures images fill their container without distortion */
        border-radius: 12px; /* Apply radius to all corners */
        transition: transform 0.3s ease;
        display: block;
    }

    /* Image hover effect */
    #wp-custom-grid-456 .grid-item:hover img {
        transform: scale(1.05); 
    }

    #wp-custom-grid-456 .grid-caption {
        position: absolute;
        /* Corrected to cover the entire item */
        top: 0; 
        left: 0;
        width: 100%;
        height: 100%;
        
        background: rgba(46, 107, 36, 0.7); /* Dark semi-transparent background */
        color: #ffffff; /* White text */
        
        /* Added flex properties to center text */
        display: flex;
        align-items: center;
        justify-content: center;
        
        font-size: 1.1em;
        text-align: center; /* Fallback */
        
        padding: 15px; /* Padding for a better look */
        margin: 0; /* Reset default margin */
        
        /* Hide by default */
        opacity: 0;
        visibility: hidden;
        
        /* Smooth transition */
        transition: opacity 0.3s ease, visibility 0.3s ease;
        
        box-sizing: border-box; /* Ensure padding doesn't break layout */
        
        /* Match parent's border radius */
        border-radius: 12px;
    }

    /* Show caption on hover */
    #wp-custom-grid-456 .grid-item:hover .grid-caption {
        opacity: 1;
        visibility: visible;
    }


    /* --- Modal (Pop-up Window) Styles (Prefixed) --- */
    #wp-custom-grid-456 .photo-modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stays in place, covers the whole screen */
        z-index: 10000; /* Increased z-index for WP admin bar */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: hidden; /* Disable scrolling on the modal container */
        background-color: rgba(0, 0, 0, 0.85); /* Black background with opacity */
        
        /* Flexbox for centering the content */
        justify-content: center;
        align-items: center;
    }

    #wp-custom-grid-456 .photo-modal-content {
        background-color: #ffffff;
        margin: auto;
        padding: 25px;
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        max-height: 90vh; /* Set a max height */
        overflow-y: auto; /* Allow scrolling ONLY within the content box */
        position: relative;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        animation: fadeIn 0.4s;
        /* Apply the font inside the modal too */
        font-family: "Martina Plantijn", serif; 
    }

    /* --- Modal Animation Classes (Prefixed) --- */
    #wp-custom-grid-456 .photo-modal-content.modal-closing {
        animation: fadeOut 0.4s forwards;
    }

    /* Keyframes are global, so no prefix needed */
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: scale(0.9);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    
    @keyframes fadeOut {
        from {
            opacity: 1;
            transform: scale(1);
        }
        to {
            opacity: 0;
            transform: scale(0.9);
        }
    }
    
    /* Modal Close Button (Prefixed) */
    #wp-custom-grid-456 .photo-modal-close {
        color: #aaa;
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 28px;
        font-weight: bold;
        transition: color 0.2s ease;
    }

    #wp-custom-grid-456 .photo-modal-close:hover,
    #wp-custom-grid-456 .photo-modal-close:focus {
        color: #111;
        text-decoration: none;
        cursor: pointer;
    }
    
    /* Styles for content inside the modal (Prefixed) */
    #wp-custom-grid-456 .modal-body h2,
    #wp-custom-grid-456 .modal-body h3 {
        margin-top: 0;
        /* Ensure font is applied to headings */
        font-family: "Martina Plantijn", serif; 
    }
    #wp-custom-grid-456 .modal-body img {
        width: 100%;
        border-radius: 8px;
        margin-bottom: 15px;
    }
    
    /* --- RESPONSIVE STYLES (Prefixed) --- */
    @media screen and (max-width: 768px) {
        #wp-custom-grid-456 {
            padding: None;/* No padding here, if it was needed, it would be 'padding: 1rem;' */
        }
        #wp-custom-grid-456 .photo-grid-container {
            /* Switch to a single column on smaller screens */
            grid-template-columns: 1fr;
        }
        #wp-custom-grid-456 h1,
        #wp-custom-grid-456 h3 {
            font-size: 1.75rem; /* Make heading smaller on mobile */
        }
    }

</style>


<div id="wp-custom-grid-456">

    

<div class="photo-grid-container">
        
        

<div class="grid-item" data-modal-target="#photoModal4">
            <img src="https://centerforthehumanities.org/wp-content/uploads/2025/10/Tier-II-1-scaled.jpg" alt="Tier II 1"
                 onerror="this.onerror=null; this.src='https://placehold.co/600x400/2e6b24/ffffff?text=Image+1';">
            <p class="grid-caption">Site visit to Brosis</p>
        </div>

        

<div class="grid-item" data-modal-target="#photoModal5">
            <img src="https://centerforthehumanities.org/wp-content/uploads/2025/10/Tier-II-2-scaled.jpg" alt="Tier II 2"
                 onerror="this.onerror=null; this.src='https://placehold.co/600x400/2e6b24/ffffff?text=Image+2';">
            <p class="grid-caption">Site Visit to UPROSE</p>
        </div>

        

<div class="grid-item" data-modal-target="#photoModal6">
            <img src="https://centerforthehumanities.org/wp-content/uploads/2025/10/Tier-II-3-scaled.jpg" alt="Tier II 3"
                 onerror="this.onerror=null; this.src='https://placehold.co/600x400/2e6b24/ffffff?text=Image+3';">
            <p class="grid-caption">Air Quality and Sensor Building workshops</p>
        </div>
    </div>

    

<div id="photoModal4" class="photo-modal">
        <div class="photo-modal-content">
            <span class="photo-modal-close">&times;</span>
            <div class="modal-body">
            <h3>Site visit to Brosis</h3>
            <p>In the Spring of 2025, Prof. Jill Stein’s ### class visits Brosis to learn about Hotbox Composting.</p>
            </div>
        </div>
    </div>

    

<div id="photoModal5" class="photo-modal">
        <div class="photo-modal-content">
            <span class="photo-modal-close">&times;</span>
            <div class="modal-body">
                 <h3>Site Visit to UPROSE</h3>
                 &nbsp;
                 <img src="https://centerforthehumanities.org/wp-content/uploads/2025/10/Tier-II-2-Embed-scaled.jpg" alt="Tier II Embed">
                 <p>In the Spring of 2025, students from Dr. Smita Diwan's Community Organizing and Development class at New York City College of Technology visited UPROSE. The purpose of their visit was to study community organizations dedicated to environmental justice and community well-being. During their visit, UPROSE Hub Advocates and staff provided an in-depth introduction to the Sunset Park Industrial Waterfront Tour-Walking Edition. This tour highlighted the challenges and opportunities present along the industrial shoreline, showcasing significant sites that represent Sunset Park's industrial heritage and ongoing environmental issues.</p>
            </div>
        </div>
    </div>

    

<div id="photoModal6" class="photo-modal">
        <div class="photo-modal-content">
            <span class="photo-modal-close">&times;</span>
            <div class="modal-body">
                 <h3>Air Quality and Sensor Building workshops</h3>
                 <p>In Spring 2025, El Puente and Prof. Ryan Mann Hamilton coordinated an air quality and sensor building workshop. As part of the workshop, we will be building 5 of our own air quality sensors and deploying them in different areas adjacent to our campus. This workshop will be done in collaboration with El Puente’s Green Light District plan. The Green Light District plan specifically “seeks to flip the disempowerment of gentrification,” taking community leadership through domains such as citizen science initiatives to support advocacy for healthier air quality and access to green spaces and community gardens. </p>
            </div>
        </div>
    </div>

</div> 

<script>
    /*
     * --- WORDPRESS-SAFE SCRIPT ---
     * We wrap the entire script in an "Immediately Invoked Function Expression" (IIFE)
     * (function() { ... })();
     * This creates a private "scope" and prevents any variables
     * from conflicting with WordPress plugins or your theme's JavaScript.
     */
    (function() {

        // Check if this script has already run to avoid double-binding
        if (window.wpCustomGrid456Loaded) {
            return;
        }
        window.wpCustomGrid456Loaded = true;

        function initCustomGrid() {
            
            // --- MODAL SCRIPT ---
            // Select elements *within* our specific wrapper to avoid conflicts
            const gridWrapper = document.getElementById('wp-custom-grid-456');
            
            // If our component isn't on the page, don't run any code.
            if (!gridWrapper) {
                return;
            }

            const modalTriggers = gridWrapper.querySelectorAll('[data-modal-target]');
            // We select all close buttons and modals on the page, 
            // as they might be outside the #wp-custom-grid-456 wrapper in the DOM
            const closeButtons = document.querySelectorAll('#photoModal4 .photo-modal-close, #photoModal5 .photo-modal-close, #photoModal6 .photo-modal-close');
            const allModals = document.querySelectorAll('#photoModal4, #photoModal5, #photoModal6');
            const htmlEl = document.documentElement;

            modalTriggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const modalId = trigger.getAttribute('data-modal-target');
                    // We must select the modal by its ID globally
                    const modal = document.querySelector(modalId); 
                    if (modal) {
                        modal.style.display = 'flex';
                        htmlEl.classList.add('modal-open'); 
                        document.body.classList.add('modal-open');
                    }
                });
            });

            function closeModal(modal) {
                if (!modal) return;
                const modalContent = modal.querySelector('.photo-modal-content');
                if (modalContent) {
                    modalContent.classList.add('modal-closing');
                }

                setTimeout(() => {
                    modal.style.display = 'none';
                    if (modalContent) {
                        modalContent.classList.remove('modal-closing');
                    }
                    // Only remove modal-open class if no other modals are open
                    const anyModalOpen = Array.from(allModals).some(m => m.style.display === 'flex');
                    if (!anyModalOpen) {
                        htmlEl.classList.remove('modal-open');
                        document.body.classList.remove('modal-open');
                    }
                    
                    // Audio player pause script removed
                }, 400); 
            }

            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const modal = button.closest('.photo-modal');
                    if (modal) {
                        closeModal(modal);
                    }
                });
            });

            // Add click-off-to-close functionality for all modals
            allModals.forEach(modal => {
                modal.addEventListener('click', (event) => {
                    if (event.target === modal) {
                        closeModal(modal);
                    }
                });
            });

            // --- AUDIO PLAYER SCRIPT (REMOVED) ---
        }

        // Run the script on DOMContentLoaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initCustomGrid);
        } else {
            // DOM is already ready
            initCustomGrid();
        }

    })(); 
</script>